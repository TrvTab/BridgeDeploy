(this["webpackJsonpbridge-deploy"]=this["webpackJsonpbridge-deploy"]||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){},128:function(e,t,n){},129:function(e){e.exports=JSON.parse("{}")},244:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(12),r=n.n(c),s=(n(120),n(7)),i=(n.p,n(121),n(45)),l=n.n(i),u=n(1);var d=function(e){var t=Object(a.useState)({request:"",name:"",firstTimeStamp:"",secondTimeStamp:""}),n=Object(s.a)(t,2),o=n[0],c=n[1],r=[{command:"add marker called :name at :min minutes and :sec seconds",callback:function(e,t,n){return c({request:"addMarker",name:e.toLowerCase(),firstTimeStamp:t+":"+(1===n.length?"0"+n:n)})}},{command:"Add loop called :name from :firstMin minutes and :firstSec seconds until :secondMin minutes and :secondSec seconds",callback:function(e,t,n,a,o){return c({request:"addLoop",name:e.toLowerCase(),firstTimeStamp:t+":"+(1===n.length?"0"+n:n),secondTimeStamp:a+":"+(1===o.length?"0"+o:o)})}},{command:"Delete marker called :name",callback:function(e){return c({request:"delMarker",name:e.toLowerCase()})}},{command:"Delete loop called :name",callback:function(e){return c({request:"delLoop",name:e.toLowerCase()})}},{command:"skip forward",callback:function(){return c({request:"skipFwd"})}},{command:"skip backwards",callback:function(){return c({request:"skipBwd"})}},{command:"restart",callback:function(){return c({request:"restart"})}},{command:"go to marker :name",callback:function(e){return c({request:"goToMarker",name:e.toLowerCase()})}},{command:"go to loop :name",callback:function(e){return c({request:"goToLoop",name:e.toLowerCase()})}},{command:"exit loop",callback:function(){return c({request:"exitLoop"})}}],d=Object(i.useSpeechRecognition)({commands:r}),j=d.transcript,m=d.listening,b=d.resetTranscript,p=d.browserSupportsSpeechRecognition;return Object(a.useEffect)((function(){return e.sendToPlayer(o),b(),function(){b()}}),[o]),p?Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["Microphone: ",m?"on":"off"]}),Object(u.jsx)("button",{onClick:l.a.startListening,children:"Start"}),Object(u.jsx)("button",{onClick:l.a.stopListening,children:"Stop"}),Object(u.jsx)("button",{onClick:b,children:"Reset"}),Object(u.jsx)("p",{children:o.request+" "+o.name}),Object(u.jsx)("p",{children:j})]}):Object(u.jsx)("span",{children:"Browser doesn't support speech recognition."})},j=n(22),m=n(23),b=n(44),p=n(43),h=n(104),O=n(68),f=n(29),x=(n(128),n(129),n(103)),k=n.n(x);var g=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={url:null,pip:!1,playing:!0,controls:!1,light:!1,volume:.8,muted:!1,played:0,loaded:0,duration:0,playbackRate:1,loop:!1,dictaphoneData:[],inLoop:!1},e.handleDictaphoneData=function(t){e.setState((function(){return{dictaphoneData:t}})),"skipFwd"===t.request?e.vocalSkipForward(15):"skipBwd"===t.request?e.vocalSkipBackwards(15):"restart"===t.request?e.vocalRestart():"exitLoop"===t.request?e.vocalExitLoop():("addMarker"===t.request||"addLoop"===t.request||"delMarker"===t.request||"delLoop"===t.request||"restart"===t.request||"goToMarker"===t.request||"goToLoop"===t.request)&&e.vocalPassInfoToApp(t)},e.load=function(t){e.setState({url:t,played:0,loaded:0,pip:!1})},e.handlePlayPause=function(){e.setState({playing:!e.state.playing})},e.handleStop=function(){e.setState({url:null,playing:!1})},e.handleToggleControls=function(){var t=e.state.url;e.setState({controls:!e.state.controls,url:null},(function(){return e.load(t)}))},e.handleToggleLight=function(){e.setState({light:!e.state.light})},e.handleToggleLoop=function(){e.setState({loop:!e.state.loop})},e.handleVolumeChange=function(t){e.setState({volume:parseFloat(t.target.value)})},e.handleToggleMuted=function(){e.setState({muted:!e.state.muted})},e.handleSetPlaybackRate=function(t){e.setState({playbackRate:parseFloat(t.target.value)})},e.handleOnPlaybackRateChange=function(t){e.setState({playbackRate:parseFloat(t)})},e.handleTogglePIP=function(){e.setState({pip:!e.state.pip})},e.handlePlay=function(){console.log("onPlay"),e.setState({playing:!0})},e.handleEnablePIP=function(){console.log("onEnablePIP"),e.setState({pip:!0})},e.handleDisablePIP=function(){console.log("onDisablePIP"),e.setState({pip:!1})},e.handlePause=function(){console.log("onPause"),e.setState({playing:!1})},e.handleSeekMouseDown=function(t){e.setState({seeking:!0})},e.handleSeekChange=function(t){e.setState({played:parseFloat(t.target.value)})},e.handleSeekMouseUp=function(t){e.setState({seeking:!1}),e.player.seekTo(parseFloat(t.target.value))},e.handleSkipForwardClick=function(t){e.player.seekTo(e.player.getCurrentTime()+parseInt(t.target.value),"seconds")},e.handleSkipBackwardClick=function(t){console.log(t),e.player.seekTo(e.player.getCurrentTime()-parseInt(t.target.value),"seconds")},e.handleProgress=function(t){e.state.seeking||e.setState(t)},e.handleEnded=function(){console.log("onEnded"),e.setState({playing:e.state.loop})},e.handleDuration=function(t){console.log("onDuration",t),e.setState({duration:t})},e.renderLoadButton=function(t,n){return Object(u.jsx)("button",{onClick:function(){return e.load(t)},children:n})},e.ref=function(t){e.player=t},e}return Object(m.a)(n,[{key:"vocalSkipForward",value:function(e){this.player.seekTo(this.player.getCurrentTime()+e,"seconds")}},{key:"vocalSkipBackwards",value:function(e){this.player.seekTo(this.player.getCurrentTime()-e,"seconds")}},{key:"vocalPassInfoToApp",value:function(e){this.props.onCommandChange(e)}},{key:"vocalRestart",value:function(){this.player.seekTo(0,"seconds")}},{key:"vocalExitLoop",value:function(){this.setState({inLoop:!1})}},{key:"convertToSeconds",value:function(e){var t=e.split(":"),n=Object(s.a)(t,2),a=n[0],o=n[1],c=60*parseInt(a);return c+=parseInt(o)}},{key:"componentDidUpdate",value:function(e){if(e.reply!==this.props.reply)if("goToMarker"===this.props.reply.request)this.player.seekTo(this.convertToSeconds(this.props.reply.time),"seconds");else if("goToLoop"===this.props.reply.request)for(this.setState({inLoop:!0}),console.log(this.state.inLoop),this.player.seekTo(this.convertToSeconds(this.props.reply.startTime),"seconds");this.state.inLoop;)console.log("inloop"),this.player.getCurrentTime()>=this.convertToSeconds(this.props.reply.endTime)&&this.player.seekTo(this.convertToSeconds(this.props.reply.startTime),"seconds")}},{key:"render",value:function(){var e=this,t=this.state,n=t.url,a=t.playing,o=t.controls,c=t.light,r=t.volume,s=t.muted,i=t.loop,l=t.played,j=(t.loaded,t.duration,t.playbackRate),m=t.pip;t.dictaphoneData,t.inLoop;return Object(u.jsxs)("div",{className:"app",children:[Object(u.jsxs)("section",{className:"section",children:[Object(u.jsx)("h1",{children:"Bridge"}),Object(u.jsx)("div",{className:"player-wrapper",children:Object(u.jsx)(k.a,{ref:this.ref,className:"react-player",width:"100%",height:"100%",url:n,pip:m,playing:a,controls:o,light:c,loop:i,playbackRate:j,volume:r,muted:s,onReady:function(){return console.log("onReady")},onStart:function(){return console.log("onStart")},onPlay:this.handlePlay,onEnablePIP:this.handleEnablePIP,onDisablePIP:this.handleDisablePIP,onPause:this.handlePause,onBuffer:function(){return console.log("onBuffer")},onPlaybackRateChange:this.handleOnPlaybackRateChange,onSeek:function(e){return console.log("onSeek",e)},onEnded:this.handleEnded,onError:function(e){return console.log("onError",e)},onProgress:this.handleProgress,onDuration:this.handleDuration})}),Object(u.jsxs)(h.a,{children:[Object(u.jsx)(O.a,{children:Object(u.jsx)(f.a,{lg:!0,md:8,children:Object(u.jsx)("input",{type:"range",min:0,max:.999999,step:"any",style:{width:"700px"},value:l,onMouseDown:this.handleSeekMouseDown,onChange:this.handleSeekChange,onMouseUp:this.handleSeekMouseUp})})}),Object(u.jsx)(O.a,{children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)("button",{className:"controlButton",onClick:this.vocalRestart,value:15,children:"Restart"}),Object(u.jsx)("button",{className:"controlButton",onClick:this.handleSkipBackwardClick,value:15,children:"Rewind 15s"}),Object(u.jsx)("button",{className:"controlButton",onClick:this.handlePlayPause,children:a?"Pause":"Play"}),Object(u.jsx)("button",{className:"controlButton",onClick:this.handleSkipForwardClick,value:15,children:"Skip 15s"}),Object(u.jsxs)("select",{className:"controlButton",onChange:this.handleSetPlaybackRate,name:"playback speed",id:"playbackSpeed",children:[Object(u.jsx)("option",{value:.25,children:"0.25x"}),Object(u.jsx)("option",{value:.5,children:"0.50x"}),Object(u.jsx)("option",{value:.75,children:"0.75x"}),Object(u.jsx)("option",{selected:"selected",value:1,children:"1.00x"}),Object(u.jsx)("option",{value:1.25,children:"1.25x"}),Object(u.jsx)("option",{value:1.5,children:"1.50x"}),Object(u.jsx)("option",{value:1.75,children:"1.75x"})]}),Object(u.jsxs)("div",{style:{marginTop:15},children:[Object(u.jsx)("input",{id:"volume",name:"volume",type:"range",min:0,max:1,step:"any",value:r,onChange:this.handleVolumeChange}),Object(u.jsx)("label",{for:"volume",children:"Volume"})]})]})})]}),Object(u.jsx)("label",{style:{marginRight:10},for:"customUrl",children:" New Url "}),Object(u.jsx)("input",{id:"customUrl",ref:function(t){e.urlInput=t},type:"text",placeholder:"Enter URL"}),Object(u.jsx)("button",{onClick:function(){return e.setState({url:e.urlInput.value})},children:"Load"}),Object(u.jsx)(d,{sendToPlayer:this.handleDictaphoneData})]}),Object(u.jsx)("footer",{className:"footer"})]})}}]),n}(a.Component),v=g,S=n(24);n(39);var y=function(e){var t=Object(a.useState)(e.title),n=Object(s.a)(t,2),o=n[0],c=(n[1],Object(a.useState)(e.colour)),r=Object(s.a)(c,2),i=r[0],l=(r[1],Object(a.useState)(e.startTime)),d=Object(s.a)(l,2),j=d[0],m=(d[1],Object(a.useState)(e.endTime)),b=Object(s.a)(m,2),p=b[0];return b[1],Object(u.jsx)(h.a,{children:Object(u.jsxs)(O.a,{children:[Object(u.jsx)("span",{children:i}),Object(u.jsxs)(f.a,{children:[Object(u.jsx)("span",{children:o}),Object(u.jsxs)("span",{children:[" ",j," ",p]})]})]})})},T=n(261),C=n(262);var L=function(e){var t=e.submitLoop,n=Object(a.useState)(),o=Object(s.a)(n,2),c=o[0],r=o[1],i=Object(a.useState)(),l=Object(s.a)(i,2),d=l[0],j=(l[1],Object(a.useState)()),m=Object(s.a)(j,2),b=m[0],p=m[1],h=Object(a.useState)(),x=Object(s.a)(h,2),k=x[0],g=x[1];return Object(u.jsxs)(T.a,{onSubmit:function(e){!function(e){t(c,d,b,k),e.preventDefault()}(e)},children:[Object(u.jsxs)(T.a.Group,{className:"mb-3",children:[Object(u.jsx)(T.a.Label,{children:"Title"}),Object(u.jsx)(T.a.Control,{placeholder:"Loop 1, Loop 2...",name:"title",type:"text",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(u.jsxs)(O.a,{className:"mb-3",children:[Object(u.jsxs)(T.a.Group,{as:f.a,children:[Object(u.jsx)(T.a.Label,{children:"Start Time"}),Object(u.jsx)(T.a.Control,{name:"startTime",type:"text",value:b,onChange:function(e){return p(e.target.value)}})]}),Object(u.jsxs)(T.a.Group,{as:f.a,className:"mb-3",children:[Object(u.jsx)(T.a.Label,{children:"End Time"}),Object(u.jsx)(T.a.Control,{name:"endTime",type:"text",value:k,onChange:function(e){return g(e.target.value)}})]}),Object(u.jsx)(C.a,{type:"submit",children:"Submit Loop"})]})]})},P=n(109);var w=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(s.a)(r,2),l=i[0],d=i[1],j=function(e){console.log("TEEEEST",e),c((function(t){return t.filter((function(t){return t.key!==e}))}))},m=function(e,t,n,a){d(!1),c((function(o){return[].concat(Object(S.a)(o),[Object(u.jsx)("li",{"list-style":"none",children:Object(u.jsxs)(O.a,{children:[Object(u.jsx)(y,{title:e,colour:t,startTime:n,endTime:a}),Object(u.jsx)(P.a,{onClick:function(){return j(e)}})]})},e)])}))};return Object(a.useEffect)((function(){if(!e.commandInformation.request.includes("marker"))return"addLoop"===e.commandInformation.request?m(e.commandInformation.name,"colour",e.commandInformation.firstTimeStamp,e.commandInformation.secondTimeStamp):"delLoop"===e.commandInformation.request?j(e.commandInformation.name):"goToLoop"===e.commandInformation.request&&function(t,n){var a=o.find((function(e){return e.key===t}));console.log(a);var c=o.find((function(e){return e.key===t})).props.children.props.children[0].props,r=Object.assign({request:n},c);e.onFoundTimeElement(r)}(e.commandInformation.name,e.commandInformation.request),function(){}}),[e.commandInformation]),Object(u.jsxs)(h.a,{children:[!l&&Object(u.jsxs)("ul",{children:[o,Object(u.jsx)(C.a,{onClick:function(){d(!0)},children:"Add Loop"})]}),l&&Object(u.jsx)("div",{children:Object(u.jsx)(L,{submitLoop:m})})]})};var I=function(e){var t=Object(a.useState)(e.title),n=Object(s.a)(t,2),o=n[0],c=(n[1],Object(a.useState)(e.colour)),r=Object(s.a)(c,2),i=r[0],l=(r[1],Object(a.useState)(e.time)),d=Object(s.a)(l,2),j=d[0];return d[1],Object(u.jsx)(h.a,{children:Object(u.jsxs)(O.a,{children:[Object(u.jsx)("span",{children:i}),Object(u.jsxs)(f.a,{children:[Object(u.jsx)("span",{children:o}),Object(u.jsxs)("span",{children:[" ",j]})]})]})})};var q=function(e){var t=e.submitMarker,n=Object(a.useState)(),o=Object(s.a)(n,2),c=o[0],r=o[1],i=Object(a.useState)(),l=Object(s.a)(i,2),d=l[0],j=(l[1],Object(a.useState)()),m=Object(s.a)(j,2),b=m[0],p=m[1];return Object(u.jsxs)(T.a,{onSubmit:function(e){!function(e){t(c,d,b),e.preventDefault()}(e)},children:[Object(u.jsxs)(T.a.Group,{className:"mb-3",children:[Object(u.jsx)(T.a.Label,{children:"Title"}),Object(u.jsx)(T.a.Control,{placeholder:"Marker 1, Marker 2...",name:"title",type:"text",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(u.jsxs)(O.a,{className:"mb-3",children:[Object(u.jsxs)(T.a.Group,{as:f.a,children:[Object(u.jsx)(T.a.Label,{children:"Time"}),Object(u.jsx)(T.a.Control,{name:"time",type:"text",value:b,onChange:function(e){return p(e.target.value)}})]}),Object(u.jsx)(C.a,{type:"submit",children:"Submit Marker"})]})]})};var M=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(s.a)(r,2),l=i[0],d=i[1],j=function(e){c((function(t){return t.filter((function(t){return t.key!==e}))}))},m=function(e,t,n){d(!1),c((function(a){return[].concat(Object(S.a)(a),[Object(u.jsx)("li",{"list-style":"none",children:Object(u.jsxs)(O.a,{children:[Object(u.jsx)(I,{title:e,colour:t,time:n}),Object(u.jsx)(P.a,{onClick:function(){return j(e)}})]})},e)])}))};return Object(a.useEffect)((function(){e.commandInformation.request.includes("loop")||("addMarker"===e.commandInformation.request?m(e.commandInformation.name,"colour",e.commandInformation.firstTimeStamp):"delMarker"===e.commandInformation.request?j(e.commandInformation.name):"goToMarker"===e.commandInformation.request&&function(t,n){var a=o.find((function(e){return e.key===t})).props.children.props.children[0].props,c=Object.assign({request:n},a);e.onFoundTimeElement(c)}(e.commandInformation.name,e.commandInformation.request))}),[e.commandInformation]),Object(u.jsxs)(h.a,{children:[!l&&Object(u.jsxs)("ul",{children:[o,Object(u.jsx)(C.a,{onClick:function(){d(!0)},children:"Add Marker"})]}),l&&Object(u.jsx)("div",{children:Object(u.jsx)(q,{submitMarker:m})})]})},E=(n(243),n(3)),D=n(260);var R=function(e){return Object(u.jsxs)(D.a,Object(E.a)(Object(E.a)({},e),{},{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(D.a.Header,{closeButton:!0,children:Object(u.jsx)(D.a.Title,{id:"contained-modal-title-vcenter",children:"Command Information"})}),Object(u.jsx)(D.a.Body,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"Commands that should be done using voice (voice commands must be issued exactly like the following to work)"}),Object(u.jsxs)("h6",{children:[" ",Object(u.jsx)("b",{children:"Note that the words with colons in front of them represent values that you will choose. In addition, all of the following commands can be done without voice input "})]}),Object(u.jsxs)("p",{children:["Add marker at a specific time = ",Object(u.jsx)("em",{children:"'add marker called :name at :min minutes and :sec seconds'"}),Object(u.jsx)("br",{}),"Add a loop that from one time stamp to another =",Object(u.jsx)("em",{children:" 'Add loop called :name from :firstMin minutes and :firstSec seconds until :secondMin minutes and :secondSec seconds'"}),Object(u.jsx)("br",{}),"Delete a marker by its name = ",Object(u.jsx)("em",{children:"'Delete marker called :name'"}),Object(u.jsx)("br",{}),"Skip 15 seconds ahead = ",Object(u.jsx)("em",{children:"'skip forward'"})," ",Object(u.jsx)("br",{}),"Rewind 15 seconds = ",Object(u.jsx)("em",{children:"'skip backwards'"})," ",Object(u.jsx)("br",{}),"Restart the song = ",Object(u.jsx)("em",{children:"'restart' "}),Object(u.jsx)("br",{}),"Jump to marker timestamp = ",Object(u.jsx)("em",{children:"'go to marker :name'"})," ",Object(u.jsx)("br",{}),"Jump to loop and repeatedly perform desired loop : ",Object(u.jsx)("em",{children:"'go to loop :name'"})," ",Object(u.jsx)("br",{}),"Exit loop = ",Object(u.jsx)("em",{children:"'exit loop' "}),Object(u.jsx)("br",{})]}),Object(u.jsx)("h4",{children:"Commands that should be done without voice commands"}),Object(u.jsxs)("p",{children:["Change Volume ",Object(u.jsx)("br",{}),"Change Playback Rate ",Object(u.jsx)("br",{}),"Change Song URL ",Object(u.jsx)("br",{})]})]})}),Object(u.jsx)(D.a.Footer,{children:Object(u.jsx)(C.a,{onClick:e.onHide,children:"Close"})})]}))};var B=function(){var e=Object(a.useState)({request:"",name:"",firstTimeStamp:"",secondTimeStamp:""}),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)({request:"",name:"",firstTimeStamp:"",secondTimeStamp:""}),r=Object(s.a)(c,2),i=r[0],l=r[1],d=Object(a.useState)(!1),j=Object(s.a)(d,2),m=j[0],b=j[1];function p(e){l(e)}return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(C.a,{variant:"primary",onClick:function(){return b(!0)},children:"Info"}),Object(u.jsx)(R,{show:m,onHide:function(){return b(!1)}}),Object(u.jsxs)(O.a,{children:[Object(u.jsx)(f.a,{children:Object(u.jsx)(w,{commandInformation:n,onFoundTimeElement:p})}),Object(u.jsx)(f.a,{children:Object(u.jsx)(M,{commandInformation:n,onFoundTimeElement:p})})]}),Object(u.jsx)(v,{onCommandChange:function(e){o((function(t){return e}))},reply:i})]})},F=function(e){e&&e instanceof Function&&n.e(16).then(n.bind(null,263)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))};r.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(B,{})}),document.getElementById("root")),F()}},[[244,14,15]]]);
//# sourceMappingURL=main.0d1776b2.chunk.js.map